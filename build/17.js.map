{"version":3,"sources":["../../src/pages/management/sort-filter-options/sort-filter.module.ts","../../src/pages/management/sort-filter-options/sort-filter.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SortFilterOptionsPage } from './sort-filter';\n\n@NgModule({\n  declarations: [SortFilterOptionsPage],\n  \n  imports: [\n    IonicPageModule.forChild(SortFilterOptionsPage)],\n  exports:[SortFilterOptionsPage]\n})\n\nexport class SortFilterOptionsModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/management/sort-filter-options/sort-filter.module.ts","\nimport { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\nimport { IonicPage, ActionSheetController } from 'ionic-angular';\nimport { ComplaintService } from '../../../providers/complaint.service';\n\n@IonicPage()\n@Component({\n    selector: 'sort-filter',\n    template: `   \n    <ion-grid no-padding>\n        <ion-row>\n            <ion-col no-padding>\n                <button full ion-button (click)=\"onSort()\" [style.background-color]=\"sortSelected ? 'grey': ''\" icon-start>\n                    <ion-icon name=\"arrow-round-down\"></ion-icon><ion-icon name=\"arrow-round-up\"></ion-icon>\n                Sort\n                </button>\n            </ion-col>\n\n            <ion-col no-padding>\n                    <button full ion-button (click)=\"onFilter()\" [style.background-color]=\"filterSelected ? 'grey': ''\" icon-start>\n                        <ion-icon name=\"funnel\"></ion-icon>\n                    Filter\n                    </button>\n            </ion-col>  \n        </ion-row>\n    </ion-grid>\n            `,\n    styles: [`\n        button{\n            margin: 0rem 0rem !important;\n            height:45px;\n        }\n        ion-grid{\n            position:fixed;\n        }\n    `]\n\n\n})\n\nexport class SortFilterOptionsPage implements OnInit {\n\n    statusOptions: any;\n    priorityOptions: any;\n    complaintCategoryOptions: any;\n    @Input() sortSelected: boolean;\n    @Input() filterSelected: boolean;\n    @Output() onSelect = new EventEmitter<any>();\n\n\n    constructor(\n        private actionSheetCtrl: ActionSheetController,\n        private complaintService: ComplaintService\n    ) { }\n\n    ngOnInit() {\n\n        this.getDataRequiredForFiltering();\n        // this.statusOptions = JSON.parse(localStorage.getItem('complaintStatusList'));\n        // this.priorityOptions = JSON.parse(localStorage.getItem('complaintPriorityList'));\n        // this.complaintCategoryOptions = JSON.parse(localStorage.getItem('complaintCategoryOptions'));\n    }\n\n    getDataRequiredForFiltering() {\n        this.complaintService.fetchDataRequiredForFiltering()\n            .subscribe((res: any) => {\n                this.statusOptions = res.status;\n                this.priorityOptions = res.priority;\n                this.complaintCategoryOptions = res.category;\n            }, (err: any) => {\n\n            });\n    }\n\n    onSort() {\n        const actionSheet = this.actionSheetCtrl.create({\n            title: 'Sort By',\n            buttons: [\n                {\n                    text: 'Priority',\n\n                    handler: () => {\n                        this.onSelect.emit({ sortName: 'priority', filter: null });\n                    }\n                },\n                {\n                    text: 'Status',\n                    handler: () => {\n                        this.onSelect.emit({ sortName: 'status', filter: null });\n\n                    }\n                },\n                {\n                    text: 'Clear',\n                    handler: () => {\n                        if (!this.sortSelected) { return; }\n                        this.onSelect.emit({ sortName: 'clear', filter: null });\n\n                    }\n                },\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: () => {\n                    }\n                }\n            ]\n        });\n\n        actionSheet.present();\n    }\n\n\n    onFilter() {\n        const actionSheet = this.actionSheetCtrl.create({\n            title: 'Filter By',\n            buttons: [\n                {\n                    text: 'Priority',\n                    handler: () => {\n                        actionSheet.dismiss().then(() => {\n                            this.filterBySubCategories(1);\n                        });\nreturn false;\n                    }\n                },\n                {\n                    text: 'Status',\n                    handler: () => {\n                        actionSheet.dismiss().then(() => {\n                            this.filterBySubCategories(2);\n                        });\n                        return false;\n                    }\n                },\n                {\n                    text: 'Category',\n                    handler: () => {\n                        actionSheet.dismiss().then(() => {\n                            this.filterBySubCategories(3);\n                        });\n                        return false;\n                    }\n                },\n                {\n                    text: 'Clear',\n                    handler: () => {\n                        if (!this.filterSelected) { return; }\n                        this.onSelect.emit({ sortName: null, filter: { filterName: 'clear', id: null } });\n                    }\n                },\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: () => {\n                    }\n                }\n            ]\n        });\n\n        actionSheet.present();\n    }\n\n    /**id 1 is for priority and 2 is for status */\n    filterBySubCategories(id: number) {\n        const actionSheet = this.actionSheetCtrl.create();\n\n        if (id == 1) {\n\n            actionSheet.setTitle('Select Priority');\n\n            for (let i = 0; i < this.priorityOptions.length; i++) {\n                actionSheet.addButton({\n                    text: this.priorityOptions[i].name,\n                    handler: () => {\n                        this.onSelect.emit({ sortName: null, filter: { filterName: 'priority', id: this.priorityOptions[i].id } });\n\n                    }\n                });\n            }\n        } else if (id == 2) {\n\n            actionSheet.setTitle('Select Status');\n\n            for (let i = 0; i < this.statusOptions.length; i++) {\n                actionSheet.addButton({\n                    text: this.statusOptions[i].name,\n                    handler: () => {\n                        this.onSelect.emit({ sortName: null, filter: { filterName: 'status', id: this.statusOptions[i].id } });\n                    }\n                });\n            }\n        } else {\n\n            actionSheet.setTitle('Select Category');\n\n            for (let i = 0; i < this.complaintCategoryOptions.length; i++) {\n                actionSheet.addButton({\n                    text: this.complaintCategoryOptions[i].name,\n                    handler: () => {\n                        actionSheet.dismiss().then(() => {\n                            this.afterCategorySelect(this.complaintCategoryOptions[i]);\n                        });\n                        return false;\n                    }\n                });\n            }\n        }\n        actionSheet.addButton({\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {\n            }\n        });\n        actionSheet.present();\n\n    }\n\n    afterCategorySelect(selectedCategory: any) {\n        console.log(selectedCategory);\n\n        if (selectedCategory.childCategory) {\n\n            const actionSheet = this.actionSheetCtrl.create();\n\n            actionSheet.setTitle('Select Subcategory');\n\n            for (let i = 0; i < selectedCategory.childCategory.length; i++) {\n                actionSheet.addButton({\n                    text: selectedCategory.childCategory[i].name,\n                    handler: () => {\n                        this.onSelect.emit({ sortName: null, filter: { filterName: 'category', id: selectedCategory.childCategory[i].id } });\n                    }\n                });\n            }\n            actionSheet.addButton({\n                text: 'Cancel',\n                role: 'cancel',\n                handler: () => {\n                }\n            });\n\n            actionSheet.present();\n        } else {\n            this.onSelect.emit({ sortName: null, filter: { filterName: 'category', id: selectedCategory.id } });\n\n        }\n    }\n\n    // afterSubcategorySelect(selectedSubcategory: any) {\n\n    //     const actionSheet = this.actionSheetCtrl.create();\n    //     switch (selectedSubcategory.id) {\n    //         // further options if needed in future can be added here\n    //         case 6: actionSheet.setTitle('Select Student Activities');\n    //             break;\n    //     }\n\n    //     for (let i = 0; i < selectedSubcategory.childCategory.length; i++) {\n    //         actionSheet.addButton({\n    //             text: selectedSubcategory.childCategory[i].name || selectedSubcategory.childCategory[i].facultyName,\n    //             handler: () => {\n    //                 this.onSelect.emit({ sortName: null, filter: { filterName: 'category', id: selectedSubcategory.childCategory[i].id || selectedSubcategory.childCategory[i].facultyId } });\n    //             }\n    //         });\n    //     }\n\n    //     actionSheet.present();\n    // }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/management/sort-filter-options/sort-filter.ts"],"sourceRoot":""}