{"version":3,"sources":["../../src/pages/super-admin/new-empl/new-empl.module.ts","../../src/pages/super-admin/new-empl/new-empl.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewEmplPage } from './new-empl';\n\n@NgModule({\n  declarations: [\n    NewEmplPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewEmplPage),\n  ],\n})\nexport class NewEmplPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/super-admin/new-empl/new-empl.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { EmployeeService } from '../../../providers/employee.service';\nimport { CustomService } from '../../../providers/custom.service';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-new-empl',\n  templateUrl: 'new-empl.html',\n})\nexport class NewEmplPage {\n\n  // required data for the form\n  roles: Array<any>;\n  stores: Array<any>;\n\n  //ngModal variables\n  name: string;\n  nickName: string;\n  contactNo: string;\n  email: string;\n  username: string;\n  password: string;\n\n  roleStoreList: Array<{ storeId: number, roleId: number }> = [{ storeId: null, roleId: null }];\n\n\n  constructor(\n    private viewCtrl: ViewController,\n    private empService: EmployeeService,\n    private customService: CustomService\n  ) { }\n\n  ionViewDidLoad() {\n    this.getRoleAndStores();\n  }\n\n  getRoleAndStores() {\n    this.customService.showLoader();\n    this.empService.getRolesAndStores()\n      .subscribe((res: Array<any>) => {\n        [this.roles, this.stores] = res;\n        this.customService.hideLoader();\n\n      }, (err: any) => {\n        this.customService.hideLoader();\n        this.customService.showToast(err.msg);\n        this.dismiss();\n      })\n  }\n\n  onAdd() {\n    if (this.roleStoreList.length <= this.roles.length * this.stores.length) {\n      this.roleStoreList.push({ storeId: null, roleId: null });\n    }\n  }\n\n  onRemove(index: number) {\n    this.roleStoreList.splice(index, 1);\n  }\n\n  dismiss(data?:any) {\n    this.viewCtrl.dismiss(data);\n  }\n\n  onSubmit() {\n    const data: any = {};\n    data.name = this.name;\n    data.username = this.username;\n    data.password = this.password;\n\n    this.nickName && (data.nickName = this.nickName);\n    this.contactNo && (data.contactNo = this.contactNo);\n    this.email && (data.email = this.email);\n\n    data.roleStoreList = this.roleStoreList;\n\n    // send post request\n    this.customService.showLoader();\n    this.empService.createEmployee(data)\n      .subscribe((res: any) => {\n        this.customService.hideLoader();\n        this.customService.showToast('Employee created successfully');\n        this.dismiss(res);\n      }, (err: any) => {\n        this.customService.hideLoader();\n        this.customService.showToast(err.msg);\n      })\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/super-admin/new-empl/new-empl.ts"],"sourceRoot":""}