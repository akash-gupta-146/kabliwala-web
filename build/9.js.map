{"version":3,"sources":["../../src/pages/super-admin/employees/employees.module.ts","../../src/pages/custom-image/image.module.ts","../../src/pages/custom-image/image.ts","../../src/pages/super-admin/employees/employees.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EmployeesPage } from './employees';\nimport { ImageHandlerModule } from '../../custom-image/image.module';\n\n@NgModule({\n  declarations: [\n    EmployeesPage,\n    \n  ],\n  imports: [\n    IonicPageModule.forChild(EmployeesPage),\n    ImageHandlerModule\n  ],\n})\nexport class EmployeesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/super-admin/employees/employees.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ImageHandler } from './image';\n\n@NgModule({\n  declarations: [ImageHandler],\n  imports: [\n    IonicPageModule.forChild(ImageHandler)\n  ],\n  exports: [ImageHandler]\n})\nexport class ImageHandlerModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/custom-image/image.module.ts","import { Component, Input, AfterContentInit } from \"@angular/core\";\n\n@Component({\n  selector: 'nl-img',\n  template: `\n    <img *ngIf=\"src\" [src]=\"src\">\n    <img *ngIf=\"!src\" src=\"assets/imgs/default-user-image.png\">\n  `\n})\nexport class ImageHandler {\n\n  @Input()\n  src: any;\n\n  constructor() {\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/custom-image/image.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { CustomService } from '../../../providers/custom.service';\nimport { EmployeeService } from '../../../providers/employee.service';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-employees',\n  templateUrl: 'employees.html',\n})\nexport class EmployeesPage {\n\n  employees: Array<any>;\n  currentPage = 1;\n\n  constructor(\n    private customService: CustomService,\n    private employeeService: EmployeeService,\n    private modalCtrl: ModalController\n  ) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad EmployeesPage');\n    this.getEmployees();\n  }\n\n\n  getEmployees(refresher?: any) {\n\n    !refresher && this.customService.showLoader();\n    this.employeeService.getEmployees(1)\n      .subscribe((res: any) => {\n        refresher ? refresher.complete() : this.customService.hideLoader();\n        this.employees = this.addRolesList(res);\n        this.currentPage = 1;\n      }, (err) => {\n        refresher ? refresher.complete() : this.customService.hideLoader();\n        this.customService.showToast(err.msg);\n      });\n  }\n\n  doRefresh(refresher: any) {\n    this.getEmployees(refresher);\n  }\n\n  doInfinite(infinite: any) {\n    this.employeeService.getEmployees(this.currentPage + 1)\n      .subscribe((res: any) => {\n        infinite.complete();\n        if (res.length != 0) {\n          this.employees = this.employees.concat(this.addRolesList(res));\n          this.currentPage++;\n        }\n      }, (err) => {\n        infinite.complete();\n        this.customService.showToast(err.msg);\n      });\n  }\n\n  addRolesList(eList: Array<any>) {\n    let roleString;\n    eList.forEach(e => {\n      roleString = '';\n      e.roles.forEach((role: any, index: number, roles: Array<any>) => {\n        roleString += `${role.role}` + (index < roles.length-1 ? ',' : '');\n\n      });\n\n      e['rolesList'] = roleString;\n    });\n\n    return eList;\n  }\n\n  openNewEmployeeModal() {\n\n    const modal = this.modalCtrl.create('NewEmplPage');\n    modal.present();\n    modal.onDidDismiss((newEmp: any) => {\n      if (newEmp) { this.employees.unshift(this.addRolesList([newEmp])[0]); }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/super-admin/employees/employees.ts"],"sourceRoot":""}