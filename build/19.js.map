{"version":3,"sources":["../../src/pages/management/comp-close-mngnt/comp-close-mngnt.module.ts","../../src/pages/management/comp-close-mngnt/comp-close-mngnt.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACkB;AAWlE;IAAA;IAA8C,CAAC;IAAlC,8BAA8B;QAT1C,+DAAQ,CAAC;YACR,YAAY,EAAE,CAAC,uFAA4B,CAAC;YAE5C,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,uFAA4B,CAAC;aACvD;YACH,OAAO,EAAE,CAAC,uFAA4B,CAAC;SACxC,CAAC;OAEW,8BAA8B,CAAI;IAAD,qCAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACZD;AAC+C;AACjB;AACN;AAUlE;IAYI,sCAEY,gBAAkC,EAClC,aAA4B,EAC5B,QAAmB,EACnB,QAAwB,EACxB,eAAsC,EACtC,MAAc;QALd,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,kBAAa,GAAb,aAAa,CAAe;QAC5B,aAAQ,GAAR,QAAQ,CAAW;QACnB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,oBAAe,GAAf,eAAe,CAAuB;QACtC,WAAM,GAAN,MAAM,CAAQ;QAjB1B,UAAK,GAAW,WAAS,IAAI,CAAC,gBAAgB,CAAC,UAAY,CAAC;QAI5D,gBAAgB;QAChB,cAAS,GAAW,EAAE,CAAC;QACvB,YAAO,GAAW,EAAE,CAAC;QAErB,oBAAe,GAAY,KAAK,CAAC;QAY7B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAChD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IAE9D,CAAC;IAED,+CAAQ,GAAR;QAAA,iBAuBC;QApBG,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC1C,KAAK,EAAE,uCAAuC;YAC9C,OAAO,EAAE;gBACL;oBACI,IAAI,EAAE,KAAK;oBAEX,OAAO,EAAE;wBACL,KAAI,CAAC,aAAa,EAAE,CAAC;oBACzB,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;oBACT,CAAC;iBACJ;aACJ;SACJ,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,EAAE,CAAC;IAE1B,CAAC;IAED,oDAAa,GAAb;QAAA,iBAoBC;QAlBG,IAAI,MAAM,GAAG;YACT,GAAG,EAAE,IAAI,CAAC,SAAS;YACnB,OAAO,EAAE,IAAI,CAAC,OAAO;SACxB,CAAC;QACF,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAChC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,MAAM,CAAC;aAC1D,SAAS,CAAC,UAAC,GAAQ;YAEhB,KAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAChC,KAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,KAAI,CAAC,SAAS,EAAC,GAAG,CAAC,CAAC;YAC1D,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,+BAA+B,CAAC,CAAC;YAC9D,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACtB,CAAC,EAAE,UAAC,GAAQ;YAER,KAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAChC,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IAEX,CAAC;IAGD,8CAAO,GAAP,UAAQ,gBAAqB;QACzB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;IAC5C,CAAC;IA7EQ,4BAA4B;QAPxC,gEAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;YAC5B,WAAW,CAA2B;WAC1B;SAEf,CAAC;6FAgBgD;YACnB,iEAAa;YAClB,qEAAS;YACT,4EAAc;YACP,+DAAqB;YAC9B,MAAM;OAnBjB,4BAA4B,CA8ExC;IAAD,CAAC;AAAA;SA9EY,4BAA4B,O","file":"19.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ComplaintCloseManagementPage } from './comp-close-mngnt';\n\n@NgModule({\n  declarations: [ComplaintCloseManagementPage],\n  \n  imports: [\n      IonicPageModule.forChild(ComplaintCloseManagementPage)\n    ],\n  exports: [ComplaintCloseManagementPage]\n})\n\nexport class ComplaintCloseManagementModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/management/comp-close-mngnt/comp-close-mngnt.module.ts","\nimport { Component } from '@angular/core';\nimport { IonicPage, Events, NavParams, ViewController, ActionSheetController } from 'ionic-angular';\nimport { ComplaintService } from '../../../providers/complaint.service';\nimport { CustomService } from '../../../providers/custom.service';\n\n@IonicPage()\n@Component({\n    selector: 'comp-close-mngnt',\n    templateUrl: './comp-close-mngnt.html',\n    styles: [``]\n\n})\n\nexport class ComplaintCloseManagementPage {\n\n    title: string = `Close ${this.complaintService.compOrSugg}`;\n    complaint: any;\n    complaintIndex: number;\n\n    //form variables\n    rootCause: string = '';\n    comment: string = '';\n\n    complaintClosed: boolean = false;\n\n    constructor(\n\n        private complaintService: ComplaintService,\n        private customService: CustomService,\n        private navParam: NavParams,\n        private viewCtrl: ViewController,\n        private actionSheetCtrl: ActionSheetController,\n        private events: Events\n    ) {\n\n        this.complaint = this.navParam.get('complaint');\n        this.complaintIndex = this.navParam.get('complaintIndex');\n\n    }\n\n    onSubmit() {\n\n\n        let actionSheet = this.actionSheetCtrl.create({\n            title: 'Are you sure to close the complaint ?',\n            buttons: [\n                {\n                    text: 'Yes',\n\n                    handler: () => {\n                        this.submitFinally();\n                    }\n                }, {\n                    text: 'Cancel',\n                    role: 'destructive',\n                    handler: () => {\n                    }\n                }\n            ]\n        });\n\n        actionSheet.present();\n\n    }\n\n    submitFinally() {\n\n        let reason = {\n            rca: this.rootCause,\n            comment: this.comment\n        };\n        this.customService.showLoader();\n        this.complaintService.closeComplaint(this.complaint.id, reason)\n            .subscribe((res: any) => {\n\n                this.customService.hideLoader();\n                this.complaintService.updateComplaint(this.complaint,res);\n                this.customService.showToast('Complaint closed successfully');\n                this.dismiss(res);\n            }, (err: any) => {\n\n                this.customService.hideLoader();\n                this.customService.showToast(err.msg);\n            });\n\n    }\n\n\n    dismiss(updatedComplaint?:any) {\n        this.viewCtrl.dismiss(updatedComplaint);\n    }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/management/comp-close-mngnt/comp-close-mngnt.ts"],"sourceRoot":""}