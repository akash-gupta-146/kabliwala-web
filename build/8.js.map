{"version":3,"sources":["../../src/pages/management/change-role/change-role.module.ts","../../src/pages/survey/survey.module.ts","../../src/pages/management/change-role/change-role.ts","../../src/pages/survey/survey.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangeRolePage } from './change-role';\n\n@NgModule({\n    declarations: [ChangeRolePage],\n\n    imports: [\n        IonicPageModule.forChild(ChangeRolePage)\n    ],\n    exports:[ChangeRolePage]\n\n})\nexport class ChangeRoleModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/management/change-role/change-role.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SurveyPage } from './survey';\nimport { ChangeRoleModule } from '../management/change-role/change-role.module';\n\n\n@NgModule({\n  \n    declarations: [SurveyPage],\n   \n    imports: [\n        ChangeRoleModule,\n        IonicPageModule.forChild(SurveyPage)\n    ],\n    \n})\nexport class SurveyModule { }  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey/survey.module.ts","import { Component, Output, EventEmitter } from '@angular/core';\nimport { AlertController } from 'ionic-angular';\n\ndeclare const URLPREFIX;\ndeclare var ROLE;\n\n@IonicPage()\n@Component({\n    selector: 'change-role',\n    templateUrl: './change-role.html',\n})\n\nexport class ChangeRolePage {\n\n    isAdmin = URLPREFIX === 'a'; // to show/hide the change role btn\n    role = ROLE; // to show the currently selected role\n\n    //to inform the parent component that role has been changed\n    @Output() roleChanged: EventEmitter<null> = new EventEmitter(null);\n\n    constructor(\n        private alertCtrl: AlertController,\n    ) { }\n\n    onChangeRole() {\n        let alert = this.alertCtrl.create({\n            title: 'Change Role',\n            buttons: [\n                {\n                    text: 'Cancel',\n                    role: 'cancel',\n                    handler: () => { }\n                },\n                {\n                    text: 'Change',\n                    handler: (data) => {\n                        if (data !== ROLE) {\n                            ROLE = this.role = data;\n                            this.roleChanged.emit(null);\n                        }\n                    }\n                }\n            ]\n        });\n\n        const roles: Array<any> = JSON.parse(localStorage.getItem('userInfo')).roles;\n\n        roles.forEach(r => {\n            alert.addInput({\n                type: 'radio',\n                value: r,\n                label: r,\n                checked: r === ROLE\n            })\n        });\n        alert.present();\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/management/change-role/change-role.ts","import { Component, ViewChild, OnInit } from '@angular/core';\nimport { IonicPage, ModalController, NavController } from 'ionic-angular';\nimport { SurveyService } from '../../providers/survey.service';\nimport { CustomService } from '../../providers/custom.service';\n\n\n@IonicPage()\n@Component({\n    selector: 'survey',\n    templateUrl: './survey.html',\n    styles: [` `]\n})\n\nexport class SurveyPage implements OnInit {\n\n    surveyList: Array<any>;\n    pageNo: number = 1;\n\n    constructor(\n        public modalCtrl: ModalController,\n        public surveyService: SurveyService,\n        public customService: CustomService,\n        private navCtrl: NavController\n    ) {    };\n\n    onRoleChanged(ev: any) {\n        this.pageNo = 1;\n        this.getSurveyList();\n    }\n\n    ngOnInit() {\n\n        this.getSurveyList();\n    }\n\n    getSurveyList(refresher?: any) {\n\n        if (!refresher) { this.customService.showLoader(); }\n        this.surveyService.getSurveys(1)\n            .subscribe((res: any) => {\n\n                this.surveyList = res;\n                this.pageNo = 1;\n                refresher ? refresher.complete() : this.customService.hideLoader();\n            }, (err: any) => {\n\n                refresher ? refresher.complete() : this.customService.hideLoader();\n                this.customService.showToast(err.msg);\n            });\n    }\n\n\n    doRefresh(refresher) {\n\n        this.getSurveyList(refresher);\n    }\n\n    doInfinite(infinite) {\n\n        this.surveyService.getSurveys(this.pageNo + 1)\n            .subscribe((res: any) => {\n                if (res && res.length !== 0) {\n                    this.pageNo++;\n                    this.surveyList = this.surveyList.concat(res);\n                }\n                infinite.complete();\n            }, (err: any) => {\n\n                infinite.complete();\n                this.customService.showToast(err.msg);\n            });\n    }\n\n    onSurveyClick(survey: any) {\n\n        this.customService.showLoader();\n        this.surveyService.getSurvey(survey.id)\n            .subscribe((res: any) => {\n                this.customService.hideLoader();\n                this.goToDetailPage(res,survey);\n            }, (err: any) => {\n                this.customService.hideLoader();\n                this.customService.showToast(err.msg);\n            });\n    }\n\n    goToDetailPage(detail: any,prevDetail:any) {\n        this.navCtrl.push(\"SurveyDetailPage\", { 'surveyInfo':detail,'prevDetail':prevDetail});\n    }\n    \n}      \n\n\n// WEBPACK FOOTER //\n// ./src/pages/survey/survey.ts"],"sourceRoot":""}